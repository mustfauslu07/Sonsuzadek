<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Bu An Saklandı</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,500&family=Inter:wght@300&display=swap" rel="stylesheet">
<style>
:root{--bg:#050406;--soft:#b8b8b8;}
*{box-sizing:border-box;}
html,body{margin:0;width:100%;height:100%;background:var(--bg);color:#fff;overflow:hidden;font-family:'Inter',sans-serif;}
#timerWrap{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;z-index:5;}
#timer{font-size:4.5rem;font-weight:300;letter-spacing:.12em;animation:pulse 1s infinite;}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:1}}
#letter{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;z-index:7;opacity:0;transition:opacity 3s ease;}
.paper{width:75%;max-width:600px;padding:60px;background:rgba(255,255,255,0.04);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,0.08);font-family:'Playfair Display',serif;font-size:1.4rem;line-height:1.9;color:#eee;}
#typeText::after{content:'|';animation:blink 1s infinite;}
@keyframes blink{0%,50%,100%{opacity:1}25%,75%{opacity:0}}
#note{position:absolute;top:40px;width:100%;text-align:center;font-size:.8rem;color:var(--soft);opacity:0;transition:opacity 3s ease;z-index:8;}
#relation{position:fixed;left:50%;bottom:30px;transform:translate(-50%,20px);font-size:.75rem;color:var(--soft);line-height:1.6;text-align:center;opacity:0;transition:opacity 3s ease, transform 3s ease;z-index:9;}
</style>
</head>
<body>

<div id="veil"></div>
<section id="timerWrap"><div id="timer">00:10:00</div></section>
<section id="letter"><div class="paper"><div id="typeText"></div></div></section>
<div id="note">Bu an saklandı.</div>
<div id="relation"></div>

<script>
function initCountdown(){

// ================= TIMER (30 Aralık 2025 00:00) =================
const targetDate = new Date(2025,11,20,1,35,0).getTime();
const timer = document.getElementById("timer");
const timerWrap = document.getElementById("timerWrap");
const letter = document.getElementById("letter");
const textEl = document.getElementById("typeText");
const note = document.getElementById("note");

const paragraph = "Seninle geçen her an, sıradanlığın çok ötesinde bir anlam taşıyor. Bazı duygular anlatılmaz derler ya, işte sen tam olarak onlardansın. İyi ki varsın.";

function updateTimer(){
  const now = new Date().getTime();
  const diff = targetDate - now;

  if(diff <= 0){
    clearInterval(timerInterval);
    showLetter();
    return;
  }

  const h = Math.floor(diff / (1000*60*60));
  const m = Math.floor((diff % (1000*60*60)) / (1000*60));
  const s = Math.floor((diff % (1000*60)) / 1000);

  timer.innerText = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
}

const timerInterval = setInterval(updateTimer,1000);
updateTimer();

// ================= SCENES =================
function showLetter(){
  timerWrap.style.opacity=0;
  setTimeout(()=>{
    timerWrap.style.display="none";
    letter.style.opacity=1;
    typeWriter();
  },1000);
}

let i=0;
function typeWriter(){
  if(i<paragraph.length){
    textEl.innerHTML+=paragraph.charAt(i);
    i++;
    setTimeout(typeWriter,65);
  }else{
    finish();
  }
}

// ================= RELATION COUNTER (30 Aralık 2024) =================
const startDate = new Date(2024,11,30,0,0,0);
const relation = document.getElementById("relation");

function updateRelation(){
  const now = new Date();
  let y = now.getFullYear()-startDate.getFullYear();
  let m = now.getMonth()-startDate.getMonth();
  let d = now.getDate()-startDate.getDate();
  if(d<0){ m--; d+=30; }
  if(m<0){ y--; m+=12; }

  relation.innerHTML = `${y} yıl ${m} ay ${d} gün<br>Bu sayaç ömür boyu sayacak,<br>ben ise seni sevmeye devam edeceğim.`;
}

function finish(){
  note.style.opacity=1;
  updateRelation();
  setTimeout(()=>{
    relation.style.opacity=1;
    relation.style.transform="translate(-50%,0)";
  },1000);
}

setInterval(updateRelation,60000);
}

// PC ve mobil uyumlu olacak şekilde yükle
if(document.readyState === "complete" || document.readyState === "interactive"){
  initCountdown();
}else{
  window.addEventListener('DOMContentLoaded',initCountdown);
}
</script>
</body>
</html>


